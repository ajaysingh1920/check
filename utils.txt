this is the utility function for version3 in video-6 